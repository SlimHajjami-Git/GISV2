<app-layout>
  <div class="monthly-report-container">
    <!-- Header -->
    <header class="report-header">
      <div class="header-left">
        <button class="back-btn" (click)="goBack()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <div class="header-title">
          <h1>üìä Rapport Mensuel de Flotte</h1>
          <p class="subtitle" *ngIf="report">{{ report.monthName }} - {{ report.reportPeriod }}</p>
        </div>
      </div>
      <div class="header-actions">
        <div class="period-selector">
          <select [(ngModel)]="selectedMonth" (change)="onPeriodChange()">
            <option *ngFor="let m of months" [value]="m.value">{{ m.label }}</option>
          </select>
          <select [(ngModel)]="selectedYear" (change)="onPeriodChange()">
            <option *ngFor="let y of years" [value]="y">{{ y }}</option>
          </select>
        </div>
        <button class="export-btn" (click)="exportToPdf()" title="Exporter PDF">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
          </svg>
          PDF
        </button>
        <button class="export-btn excel" (click)="exportToExcel()" title="Exporter Excel">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          Excel
        </button>
      </div>
    </header>

    <!-- Loading State -->
    <div class="loading-state" *ngIf="loading">
      <div class="spinner"></div>
      <p>Chargement du rapport...</p>
    </div>

    <!-- Error State -->
    <div class="error-state" *ngIf="error">
      <p>{{ error }}</p>
      <button (click)="loadReport()">R√©essayer</button>
    </div>

    <!-- Report Content -->
    <div class="report-content" *ngIf="report && !loading">
      <!-- Navigation Tabs -->
      <nav class="section-nav">
        <button *ngFor="let section of sections"
                [class.active]="activeSection === section.id"
                (click)="setActiveSection(section.id)">
          <span class="section-icon">{{ section.icon }}</span>
          <span class="section-label">{{ section.label }}</span>
        </button>
      </nav>

      <!-- Summary Section -->
      <section class="report-section" *ngIf="activeSection === 'summary'">
        <!-- Executive Summary Cards -->
        <div class="summary-grid">
          <div class="summary-card primary">
            <div class="card-icon">üöó</div>
            <div class="card-content">
              <span class="card-value">{{ report.executiveSummary.totalVehicles }}</span>
              <span class="card-label">V√©hicules</span>
              <span class="card-sub">{{ report.executiveSummary.activeVehicles }} actifs</span>
            </div>
          </div>
          <div class="summary-card success">
            <div class="card-icon">üìè</div>
            <div class="card-content">
              <span class="card-value">{{ formatNumber(report.executiveSummary.totalDistanceKm) }}</span>
              <span class="card-label">km parcourus</span>
              <span class="card-sub">{{ report.executiveSummary.totalTrips }} trajets</span>
            </div>
          </div>
          <div class="summary-card warning">
            <div class="card-icon">‚õΩ</div>
            <div class="card-content">
              <span class="card-value">{{ formatNumber(report.executiveSummary.totalFuelConsumedLiters) }}</span>
              <span class="card-label">litres consomm√©s</span>
              <span class="card-sub">{{ formatNumber(report.executiveSummary.averageFuelEfficiency, 1) }} km/L</span>
            </div>
          </div>
          <div class="summary-card danger">
            <div class="card-icon">üí∞</div>
            <div class="card-content">
              <span class="card-value">{{ formatCurrency(report.executiveSummary.totalOperationalCost) }}</span>
              <span class="card-label">Co√ªt total</span>
              <span class="card-sub">{{ formatCurrency(report.costAnalysis.costPerKm) }}/km</span>
            </div>
          </div>
          <div class="summary-card info">
            <div class="card-icon">üìà</div>
            <div class="card-content">
              <span class="card-value">{{ formatPercent(report.executiveSummary.fleetUtilizationRate) }}</span>
              <span class="card-label">Utilisation</span>
              <span class="card-sub">{{ report.utilization.totalOperatingDays }} jours actifs</span>
            </div>
          </div>
          <div class="summary-card purple">
            <div class="card-icon">‚è±Ô∏è</div>
            <div class="card-content">
              <span class="card-value">{{ report.executiveSummary.totalDrivingHours }}</span>
              <span class="card-label">heures de conduite</span>
              <span class="card-sub">{{ report.driverPerformance.activeDrivers }} conducteurs</span>
            </div>
          </div>
        </div>

        <!-- Insights & Recommendations -->
        <div class="insights-grid">
          <div class="insights-card">
            <h3>üí° Points cl√©s</h3>
            <ul>
              <li *ngFor="let insight of report.executiveSummary.keyInsights">{{ insight }}</li>
            </ul>
          </div>
          <div class="insights-card recommendations">
            <h3>üìã Recommandations</h3>
            <ul>
              <li *ngFor="let rec of report.executiveSummary.recommendations">{{ rec }}</li>
            </ul>
          </div>
        </div>

        <!-- Month-over-Month Comparison -->
        <div class="comparison-section">
          <h3>üìä Comparaison avec le mois pr√©c√©dent</h3>
          <div class="comparison-grid">
            <div class="comparison-item" *ngFor="let metric of [
              report.monthOverMonth.distance,
              report.monthOverMonth.fuelConsumption,
              report.monthOverMonth.trips,
              report.monthOverMonth.utilization
            ]">
              <span class="metric-name">{{ metric.metricName }}</span>
              <span class="metric-value">{{ formatNumber(metric.currentValue, 1) }}</span>
              <span class="metric-change" [class.positive]="metric.isPositiveTrend" [class.negative]="!metric.isPositiveTrend">
                {{ getTrendIcon(metric.trend) }} {{ metric.changePercent > 0 ? '+' : '' }}{{ formatNumber(metric.changePercent, 1) }}%
              </span>
            </div>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="charts-row">
          <div class="chart-card">
            <h4>Composition de la flotte</h4>
            <div class="chart-container">
              <canvas #fleetCompositionChart></canvas>
            </div>
          </div>
          <div class="chart-card">
            <h4>Statut des v√©hicules</h4>
            <div class="chart-container">
              <canvas #vehicleStatusChart></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Fleet Section -->
      <section class="report-section" *ngIf="activeSection === 'fleet'">
        <div class="section-header">
          <h2>üöó Vue d'ensemble de la flotte</h2>
        </div>

        <div class="fleet-stats">
          <div class="stat-box">
            <span class="stat-value">{{ report.fleetOverview.totalVehicles }}</span>
            <span class="stat-label">Total</span>
          </div>
          <div class="stat-box success">
            <span class="stat-value">{{ report.fleetOverview.activeVehicles }}</span>
            <span class="stat-label">Actifs</span>
          </div>
          <div class="stat-box warning">
            <span class="stat-value">{{ report.fleetOverview.inMaintenanceVehicles }}</span>
            <span class="stat-label">En maintenance</span>
          </div>
          <div class="stat-box danger">
            <span class="stat-value">{{ report.fleetOverview.inactiveVehicles }}</span>
            <span class="stat-label">Inactifs</span>
          </div>
        </div>

        <div class="data-table-container">
          <h4>Par type de v√©hicule</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>Type</th>
                <th>Nombre</th>
                <th>%</th>
                <th>Distance totale</th>
                <th>Moyenne</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let type of report.fleetOverview.byType">
                <td>{{ type.type }}</td>
                <td>{{ type.count }}</td>
                <td>{{ formatPercent(type.percentage) }}</td>
                <td>{{ formatNumber(type.totalDistanceKm) }} km</td>
                <td>{{ formatNumber(type.avgDistanceKm) }} km</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Utilization Section -->
      <section class="report-section" *ngIf="activeSection === 'utilization'">
        <div class="section-header">
          <h2>üìà Utilisation des v√©hicules</h2>
        </div>

        <div class="utilization-stats">
          <div class="stat-box primary">
            <span class="stat-value">{{ formatPercent(report.utilization.overallUtilizationRate) }}</span>
            <span class="stat-label">Taux d'utilisation global</span>
          </div>
          <div class="stat-box">
            <span class="stat-value">{{ formatNumber(report.utilization.averageDailyDistanceKm, 1) }} km</span>
            <span class="stat-label">Distance journali√®re moyenne</span>
          </div>
          <div class="stat-box success">
            <span class="stat-value">{{ report.utilization.totalOperatingDays }}</span>
            <span class="stat-label">Jours d'activit√©</span>
          </div>
          <div class="stat-box warning">
            <span class="stat-value">{{ report.utilization.totalIdleDays }}</span>
            <span class="stat-label">Jours d'inactivit√©</span>
          </div>
        </div>

        <div class="charts-row">
          <div class="chart-card wide">
            <h4>Tendance d'utilisation</h4>
            <div class="chart-container tall">
              <canvas #utilizationTrendChart></canvas>
            </div>
          </div>
        </div>

        <div class="charts-row">
          <div class="chart-card wide">
            <h4>Distance journali√®re</h4>
            <div class="chart-container tall">
              <canvas #distanceTrendChart></canvas>
            </div>
          </div>
        </div>

        <div class="data-table-container">
          <h4>D√©tail par v√©hicule</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>V√©hicule</th>
                <th>Plaque</th>
                <th>Utilisation</th>
                <th>Distance</th>
                <th>Trajets</th>
                <th>Jours actifs</th>
                <th>Moy./jour</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let v of report.utilization.byVehicle">
                <td>{{ v.vehicleName }}</td>
                <td>{{ v.plate || '-' }}</td>
                <td>
                  <div class="progress-bar">
                    <div class="progress" [style.width.%]="v.utilizationRate"></div>
                    <span>{{ formatPercent(v.utilizationRate) }}</span>
                  </div>
                </td>
                <td>{{ formatNumber(v.totalDistanceKm) }} km</td>
                <td>{{ v.totalTrips }}</td>
                <td>{{ v.operatingDays }}</td>
                <td>{{ formatNumber(v.avgDailyKm, 1) }} km</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Statistics -->
        <div class="statistics-card" *ngIf="report.utilization.statistics">
          <h4>üìä Statistiques d'utilisation</h4>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="label">Moyenne</span>
              <span class="value">{{ formatPercent(report.utilization.statistics.mean) }}</span>
            </div>
            <div class="stat-item">
              <span class="label">M√©diane</span>
              <span class="value">{{ formatPercent(report.utilization.statistics.median) }}</span>
            </div>
            <div class="stat-item">
              <span class="label">√âcart-type</span>
              <span class="value">{{ formatNumber(report.utilization.statistics.standardDeviation, 2) }}</span>
            </div>
            <div class="stat-item">
              <span class="label">Min</span>
              <span class="value">{{ formatPercent(report.utilization.statistics.min) }}</span>
            </div>
            <div class="stat-item">
              <span class="label">Max</span>
              <span class="value">{{ formatPercent(report.utilization.statistics.max) }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Fuel Section -->
      <section class="report-section" *ngIf="activeSection === 'fuel'">
        <div class="section-header">
          <h2>‚õΩ Analyse du carburant</h2>
        </div>

        <div class="fuel-stats">
          <div class="stat-box warning">
            <span class="stat-value">{{ formatNumber(report.fuelAnalytics.totalFuelConsumedLiters) }} L</span>
            <span class="stat-label">Consommation totale</span>
          </div>
          <div class="stat-box danger">
            <span class="stat-value">{{ formatCurrency(report.fuelAnalytics.totalFuelCost) }}</span>
            <span class="stat-label">Co√ªt carburant</span>
          </div>
          <div class="stat-box">
            <span class="stat-value">{{ formatNumber(report.fuelAnalytics.averageConsumptionPer100Km, 1) }} L</span>
            <span class="stat-label">Consommation /100km</span>
          </div>
          <div class="stat-box success">
            <span class="stat-value">{{ formatNumber(report.fuelAnalytics.averageFuelEfficiencyKmPerLiter, 1) }} km/L</span>
            <span class="stat-label">Efficacit√© moyenne</span>
          </div>
        </div>

        <div class="data-table-container">
          <h4>Consommation par v√©hicule</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>V√©hicule</th>
                <th>Distance</th>
                <th>Consommation</th>
                <th>L/100km</th>
                <th>km/L</th>
                <th>Efficacit√©</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let v of report.fuelAnalytics.byVehicle">
                <td>{{ v.vehicleName }}</td>
                <td>{{ formatNumber(v.totalDistanceKm) }} km</td>
                <td>{{ formatNumber(v.totalConsumedLiters) }} L</td>
                <td>{{ formatNumber(v.consumptionPer100Km, 1) }}</td>
                <td>{{ formatNumber(v.efficiencyKmPerLiter, 1) }}</td>
                <td>
                  <span class="badge" [class.success]="v.efficiencyRating === 'Excellent' || v.efficiencyRating === 'Bon'"
                        [class.warning]="v.efficiencyRating === 'Moyen'"
                        [class.danger]="v.efficiencyRating === 'Faible'">
                    {{ v.efficiencyRating }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Maintenance Section -->
      <section class="report-section" *ngIf="activeSection === 'maintenance'">
        <div class="section-header">
          <h2>üîß Maintenance</h2>
        </div>

        <div class="maintenance-stats">
          <div class="stat-box">
            <span class="stat-value">{{ report.maintenance.totalMaintenanceEvents }}</span>
            <span class="stat-label">Interventions</span>
          </div>
          <div class="stat-box danger">
            <span class="stat-value">{{ formatCurrency(report.maintenance.totalMaintenanceCost) }}</span>
            <span class="stat-label">Co√ªt total</span>
          </div>
          <div class="stat-box success">
            <span class="stat-value">{{ report.maintenance.scheduledMaintenances }}</span>
            <span class="stat-label">Planifi√©es</span>
          </div>
          <div class="stat-box warning">
            <span class="stat-value">{{ report.maintenance.unscheduledMaintenances }}</span>
            <span class="stat-label">Non planifi√©es</span>
          </div>
        </div>

        <div class="charts-row">
          <div class="chart-card">
            <h4>Co√ªts par type de maintenance</h4>
            <div class="chart-container">
              <canvas #maintenanceCostChart></canvas>
            </div>
          </div>
        </div>

        <div class="data-table-container">
          <h4>R√©partition par type</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>Type</th>
                <th>Interventions</th>
                <th>Co√ªt total</th>
                <th>%</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let m of report.maintenance.byType">
                <td>{{ m.type }}</td>
                <td>{{ m.count }}</td>
                <td>{{ formatCurrency(m.totalCost) }}</td>
                <td>{{ formatPercent(m.percentage) }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Drivers Section -->
      <section class="report-section" *ngIf="activeSection === 'drivers'">
        <div class="section-header">
          <h2>üë§ Performance des conducteurs</h2>
        </div>

        <div class="driver-stats">
          <div class="stat-box">
            <span class="stat-value">{{ report.driverPerformance.totalDrivers }}</span>
            <span class="stat-label">Conducteurs</span>
          </div>
          <div class="stat-box success">
            <span class="stat-value">{{ report.driverPerformance.activeDrivers }}</span>
            <span class="stat-label">Actifs</span>
          </div>
          <div class="stat-box primary">
            <span class="stat-value">{{ formatNumber(report.driverPerformance.averagePerformanceScore, 1) }}</span>
            <span class="stat-label">Score moyen</span>
          </div>
        </div>

        <div class="charts-row">
          <div class="chart-card">
            <h4>Classement des conducteurs</h4>
            <div class="chart-container">
              <canvas #driverRankingChart></canvas>
            </div>
          </div>
        </div>

        <div class="driver-rankings">
          <div class="ranking-card success">
            <h4>üèÜ Top Performers</h4>
            <ul>
              <li *ngFor="let d of report.driverPerformance.topPerformers">
                <span class="rank">#{{ d.rank }}</span>
                <span class="name">{{ d.driverName }}</span>
                <span class="score">{{ formatNumber(d.score, 1) }} pts</span>
              </li>
            </ul>
          </div>
          <div class="ranking-card warning">
            <h4>‚ö†Ô∏è √Ä am√©liorer</h4>
            <ul>
              <li *ngFor="let d of report.driverPerformance.needsImprovement">
                <span class="rank">#{{ d.rank }}</span>
                <span class="name">{{ d.driverName }}</span>
                <span class="score">{{ formatNumber(d.score, 1) }} pts</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="data-table-container">
          <h4>D√©tail par conducteur</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>Conducteur</th>
                <th>Distance</th>
                <th>Trajets</th>
                <th>Vit. moy.</th>
                <th>Exc√®s vitesse</th>
                <th>Score</th>
                <th>√âvaluation</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let d of report.driverPerformance.driverMetrics">
                <td>{{ d.driverName }}</td>
                <td>{{ formatNumber(d.totalDistanceKm) }} km</td>
                <td>{{ d.totalTrips }}</td>
                <td>{{ formatNumber(d.avgSpeedKph, 1) }} km/h</td>
                <td>{{ d.speedingEvents }}</td>
                <td>{{ formatNumber(d.performanceScore, 1) }}</td>
                <td>
                  <span class="badge" [class.success]="d.rating === 'Excellent' || d.rating === 'Bon'"
                        [class.warning]="d.rating === 'Moyen'"
                        [class.danger]="d.rating === '√Ä am√©liorer'">
                    {{ d.rating }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Costs Section -->
      <section class="report-section" *ngIf="activeSection === 'costs'">
        <div class="section-header">
          <h2>üí∞ Analyse des co√ªts</h2>
        </div>

        <div class="cost-stats">
          <div class="stat-box danger">
            <span class="stat-value">{{ formatCurrency(report.costAnalysis.totalOperationalCost) }}</span>
            <span class="stat-label">Co√ªt op√©rationnel total</span>
          </div>
          <div class="stat-box warning">
            <span class="stat-value">{{ formatCurrency(report.costAnalysis.fuelCost) }}</span>
            <span class="stat-label">Carburant</span>
          </div>
          <div class="stat-box">
            <span class="stat-value">{{ formatCurrency(report.costAnalysis.maintenanceCost) }}</span>
            <span class="stat-label">Maintenance</span>
          </div>
          <div class="stat-box primary">
            <span class="stat-value">{{ formatCurrency(report.costAnalysis.costPerKm) }}/km</span>
            <span class="stat-label">Co√ªt par kilom√®tre</span>
          </div>
        </div>

        <div class="charts-row">
          <div class="chart-card">
            <h4>R√©partition des co√ªts</h4>
            <div class="chart-container">
              <canvas #costDistributionChart></canvas>
            </div>
          </div>
        </div>

        <div class="data-table-container">
          <h4>R√©partition par cat√©gorie</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>Cat√©gorie</th>
                <th>Montant</th>
                <th>%</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let c of report.costAnalysis.byCategory">
                <td>{{ c.category }}</td>
                <td>{{ formatCurrency(c.amount) }}</td>
                <td>
                  <div class="progress-bar">
                    <div class="progress" [style.width.%]="c.percentage"></div>
                    <span>{{ formatPercent(c.percentage) }}</span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="data-table-container">
          <h4>Co√ªts par v√©hicule</h4>
          <table class="data-table">
            <thead>
              <tr>
                <th>V√©hicule</th>
                <th>Co√ªt total</th>
                <th>Carburant</th>
                <th>Maintenance</th>
                <th>Co√ªt/km</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let v of report.costAnalysis.byVehicle">
                <td>{{ v.vehicleName }}</td>
                <td>{{ formatCurrency(v.totalCost) }}</td>
                <td>{{ formatCurrency(v.fuelCost) }}</td>
                <td>{{ formatCurrency(v.maintenanceCost) }}</td>
                <td>{{ formatCurrency(v.costPerKm) }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- KPIs Section -->
      <section class="report-section" *ngIf="activeSection === 'kpis'">
        <div class="section-header">
          <h2>üéØ Indicateurs cl√©s de performance</h2>
        </div>

        <div class="kpi-grid">
          <div class="kpi-card" *ngFor="let kpi of report.keyPerformanceIndicators"
               [class.success]="kpi.status === 'OnTarget'"
               [class.warning]="kpi.status === 'Above'"
               [class.danger]="kpi.status === 'Below'">
            <div class="kpi-header">
              <span class="kpi-category">{{ kpi.category }}</span>
              <span class="kpi-status" [class.on-target]="kpi.status === 'OnTarget'">
                {{ kpi.status === 'OnTarget' ? '‚úì' : kpi.status === 'Above' ? '‚Üë' : '‚Üì' }}
              </span>
            </div>
            <div class="kpi-name">{{ kpi.name }}</div>
            <div class="kpi-value">{{ formatNumber(kpi.value, 1) }} <span class="unit">{{ kpi.unit }}</span></div>
            <div class="kpi-target">
              <span>Objectif: {{ formatNumber(kpi.target, 1) }} {{ kpi.unit }}</span>
              <span class="variance" [class.positive]="kpi.variance >= 0" [class.negative]="kpi.variance < 0">
                {{ kpi.variance >= 0 ? '+' : '' }}{{ formatNumber(kpi.variance, 1) }}
              </span>
            </div>
            <div class="kpi-progress">
              <div class="progress-bar">
                <div class="progress" [style.width.%]="Math.min((kpi.value / kpi.target) * 100, 100)"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Alerts Section -->
      <section class="report-section" *ngIf="activeSection === 'alerts'">
        <div class="section-header">
          <h2>‚ö†Ô∏è Alertes et anomalies</h2>
          <span class="alert-count">{{ report.alerts.length }} alertes</span>
        </div>

        <div class="alerts-list" *ngIf="report.alerts.length > 0">
          <div class="alert-item" *ngFor="let alert of report.alerts"
               [class]="getAlertSeverityClass(alert.severity)">
            <div class="alert-icon">
              {{ alert.severity === 'Critical' ? 'üî¥' : alert.severity === 'Warning' ? 'üü°' : 'üîµ' }}
            </div>
            <div class="alert-content">
              <div class="alert-header">
                <span class="alert-title">{{ alert.title }}</span>
                <span class="alert-severity">{{ alert.severity }}</span>
              </div>
              <p class="alert-description">{{ alert.description }}</p>
              <p class="alert-vehicle" *ngIf="alert.vehicleName">V√©hicule: {{ alert.vehicleName }}</p>
              <p class="alert-action">üí° {{ alert.recommendedAction }}</p>
            </div>
          </div>
        </div>

        <div class="no-alerts" *ngIf="report.alerts.length === 0">
          <span class="icon">‚úÖ</span>
          <p>Aucune alerte d√©tect√©e pour cette p√©riode</p>
        </div>
      </section>
    </div>
  </div>
</app-layout>
